# Business Central Connection Settings
# ============================================================

# BC Server URL (include /BC/ path for on-premises)
BC_BASE_URL=http://cronus27/BC/

# Optional: Company name to open (leave empty for default)
BC_COMPANY_NAME=

# Role Center Page ID (default: 9022 for Business Manager)
ROLE_CENTER_PAGE_ID=9022

# ============================================================
# SESSION-BASED AUTHENTICATION (Cookie Auth) - RECOMMENDED
# ============================================================
# Uses web login flow to get session cookies (mimics browser behavior)
# Works with ANY BC authentication type (NavUserPassword, Windows Auth, etc.)
# No special server configuration needed!

BC_USERNAME=your-username
BC_PASSWORD=your-password

# Tenant ID for multi-tenant deployments (use "default" for single-tenant)
BC_TENANT_ID=default

# ============================================================
# EXAMPLE CONFIGURATION (On-Premises BC)
# ============================================================
# BC_BASE_URL=http://cronus27/BC/
# BC_USERNAME=sshadows
# BC_PASSWORD=your-password
# BC_TENANT_ID=default
# ROLE_CENTER_PAGE_ID=9022

# ============================================================
# OAUTH/AZURE AD AUTHENTICATION - NOT YET IMPLEMENTED
# ============================================================
# Future: OAuth support for cloud deployments
# AZURE_CLIENT_ID=your-client-id
# AZURE_TENANT_ID=your-tenant-id
# AZURE_AUTHORITY=https://login.microsoftonline.com/your-tenant-id

# ============================================================
# DEBUG LOGGING CONFIGURATION
# ============================================================

# Enable comprehensive debug logging (true/false)
# When enabled, logs ALL MCP protocol, tool executions, BC WebSocket traffic,
# handler events, session state, and cache operations
DEBUG_MODE=false

# Debug log output directory (default: .debug-logs/)
DEBUG_LOG_DIR=.debug-logs

# Log rotation settings
DEBUG_LOG_MAX_SIZE_MB=50
DEBUG_LOG_MAX_FILES=10

# Enable specific debug channels (comma-separated)
# Options: stdio, tools, websocket, handlers, session, cache, all
# Default when DEBUG_MODE=true: all
DEBUG_CHANNELS=all

# Include full handler payloads in logs (VERY verbose, can be 100s of KB per request)
# Set to false to log only handler metadata (type, count, size)
DEBUG_LOG_FULL_HANDLERS=false

# Include full WebSocket message payloads (verbose)
DEBUG_LOG_FULL_WS_MESSAGES=true

# MCP stdio log file (already implemented - logs raw JSON-RPC protocol)
MCP_STDIO_LOG_FILE=
